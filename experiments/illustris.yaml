seed_everything: 42

model:
  class_path: models.RotationalAutoencoder
  init_args:
    bottleneck: 3
    rotations: 36

data:
  class_path: data.IllustrisSdssDataModule
  init_args:
    data_directories: ["/local_data/AIN/SKIRT_synthetic_images/TNG100/sdss/snapnum_099/data/",
                       "/local_data/AIN/SKIRT_synthetic_images/TNG100/sdss/snapnum_095/data/",
                       "/local_data/AIN/SKIRT_synthetic_images/TNG50/sdss/snapnum_099/data/",
                       "/local_data/AIN/SKIRT_synthetic_images/TNG50/sdss/snapnum_095/data/",
                       "/local_data/AIN/SKIRT_synthetic_images/Illustris/sdss/snapnum_135/data/",
                       "/local_data/AIN/SKIRT_synthetic_images/Illustris/sdss/snapnum_131/data/"]
    extension: fits
    minsize: 100
    batch_size: 128
    shuffle: True
    num_workers: 32

optimizer:
  class_path: torch.optim.Adam
  init_args:
    lr: 0.001

lr_scheduler:
  class_path: lightning.pytorch.cli.ReduceLROnPlateau
  init_args:
    mode: min
    factor: 0.1
    patience: 5
    cooldown: 5
    min_lr: 1.e-5
    monitor: train_loss
    verbose: True

trainer:
  max_epochs: -1
  accelerator: gpu
  devices: 4
  precision: 32

#ckpt_path: lightning_logs/version_5/checkpoints/epoch=7-step=800.ckpt